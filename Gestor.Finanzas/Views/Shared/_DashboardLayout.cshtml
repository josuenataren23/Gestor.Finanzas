<!DOCTYPE html>
<html lang="es" class="dark transition-colors">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - DashBoard</title>
    <link href="~/Content/Site.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/Content/fontawesome/css/all.min.css" />
</head>
<body class="dark:bg-slate-950 dark:text-slate-100">
    <div class="grid grid-cols-[260px_1fr] grid-rows-[64px_1fr] h-screen">

        <aside class="row-span-2 dark:bg-slate-900 border-r border-slate-800">
        <div class="w-full flex flex-col p-4">
            <h1 class="text-2xl"><i class="fa-solid fa-coins text-purple-700 dark:text-purple-500"></i> FinTrack</h1>

            <nav>
                <ul class="flex flex-col  mt-16">

                    <li class="flex px-2  items-center gap-2 rounded-md hover:bg-purple-500 dark:hover:bg-purple-700/50
                    @Html.IsCurrent("Dashboard", "Index")">
                        <i class="fa-solid fa-rectangle-list"></i>
                        @Html.ActionLink("Resumen", "Index", "Dashboard", null, new { @class = "w-full py-4" })
                    </li>
                    <li class="flex px-2  items-center gap-2 hover:hover:bg-purple-500 dark:hover:bg-purple-700/50 rounded-md
                    @Html.IsCurrent("Transacciones", "Index")">
                        <i class="fa-solid fa-receipt"></i>
                        @Html.ActionLink("Transacciones", "Index", "Transacciones", null, new { @class = "w-full py-4" })
                    </li>
                    <li class="flex px-2  items-center gap-2 hover:hover:bg-purple-500 dark:hover:bg-purple-700/50 rounded-md
                    @Html.IsCurrent("Presupuestos", "Index")">
                        <i class="fa-solid fa-wallet"></i>

                        @Html.ActionLink("Presupuestos", "Index", "Presupuestos", null, new { @class = "w-full py-4" })
                    </li>
                    <li class="flex px-2  items-center gap-2 hover:hover:bg-purple-500 dark:hover:bg-purple-700/50 rounded-md
                    @Html.IsCurrent("Metas", "Index")">
                        <i class="fa-solid fa-piggy-bank"></i>

                        @Html.ActionLink("Metas", "Index", "Metas", null, new { @class = "w-full py-4" })
                    </li>
                    <li class="flex px-2  items-center gap-2 hover:hover:bg-purple-500 dark:hover:bg-purple-700/50 rounded-md
                    @Html.IsCurrent("Reportes", "Index")">
                        <i class="fa-solid fa-chart-column"></i>

                        @Html.ActionLink("Reportes", "Index", "Reportes", null, new { @class = "w-full py-4" })
                    </li>
                </ul>
                
                <ul class="flex flex-col mt-4 border-t border-t-gray-600 py-4">
                    <li class="flex px-2 py-4 items-center gap-2 hover:hover:bg-purple-500 dark:hover:bg-purple-700/50 rounded-md
                    @Html.IsCurrent("Configuracion", "Index")">
                        <i class="fa-solid fa-gear"></i>
                        @Html.ActionLink("Configuración", "Index", "Configuracion", null, new {@class = ""})
                    </li>
                    <button id="theme-toggle"
    class="px-3 py-2 rounded bg-gray-700 text-white
           hover:bg-gray-600 transition">
    Cambiar tema
</button>

                </ul>
            </nav>
        </div>
        </aside>
    
         @RenderBody()
        
    </div>

    <script>
    const html = document.documentElement;
    const button = document.getElementById('theme-toggle');

    // Tema por defecto: oscuro
    const savedTheme = localStorage.getItem('theme');

    if (savedTheme === 'light') {
        html.classList.remove('dark');
    } else {
        html.classList.add('dark');
        localStorage.setItem('theme', 'dark');
    }

    button.addEventListener('click', () => {
        html.classList.toggle('dark');

        if (html.classList.contains('dark')) {
            localStorage.setItem('theme', 'dark');
        } else {
            localStorage.setItem('theme', 'light');
        }
    });
</script>

</body>
</html>


